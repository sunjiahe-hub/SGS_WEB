{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"R_server/","text":"Interactive single cell data analysis and visualization Rstudio Server In order to provide a comprehensive visual exploration of single-cell data, the SGS browser integrates the online Rstduio Server. By clicking the button, users can enter the analysis environment and perform corresponding single-cell data analysis. Data formats supports Currently SGS supports the following mainstream single-cell data analysis formats. Note that all objects must contain at least one expression matrix, grouping information and reduction coordinate file. Seurat object Loom object Signac object ArchR object Export single-cell data Installation sgsload Package In order to realize the joint exploration of data analysis and visualization, we developed a sgsload R package to directly import the single-cell analysis objects generated by the Rstudio server analysis environment. # download package # install from github devtools::install_github(\"bio-xtt/sgsload\") # install from source install.packages(\"/home/bio-xtt/Desktop/sgsload_0.1.0.tar.gz\", type=source) Usage of sgsload Getting specices id Note that before importing single-cell analysis objects directly into the SGS single-cell browser, you need to add a species fasta file and view the id of the species. # load the package library(sgsload) # get the speices id information, the default userid is \"user001\". get_species_inform(user_id) Example1: Loadding Seurat object into SGS cellbrowser Loadding a scRNA object created by Seurat into SGS cellbrowser. # load the example datasets: pbmc_small data(\"pbmc_small\") # load the example marker genes: marker.tsv marker_file <- system.file(\"extdata/scRNA\", \"markers.tsv\", package = \"sgsload\") # use the export function result_json <- ExportSC( object = pbmc_small, species_id = \"25542c58734641fe98ba9f6b51d17a20\", track_name = \"pbmc_small\", track_type = \"scRNA\", select_group = c(\"groups\", \"RNA_snn_res.0.8\", \"letter.idents\", \"cluster\"), assays = \"RNA\", matrix.slot = list(\"RNA\" = \"data\"), assay.type = list(\"RNA\" = \"gene\"), reductions = c(\"tsne\", \"umap\"), marker.files = list(\"RNA\" = marker_file)) Example2: Loadding Signac object into SGS cellbrowser Loadding a scATAC object created by Signac into SGS cellbrowser. # load the package library(sgsload) # get the speices id information get_species_inform(user_id) # load the example datasets: pbmc_small data(\"atac\") # load the example marker files created by different assay: marker_gene.tsv\u3001marker_motif.tsv\u3001marker_peak.tsv marker_genes <- system.file(\"extdata/scATAC\", \"marker_genes.tsv\", package = \"sgsload\") marker_motifs <- system.file(\"extdata/scATAC\", \"marker_motif.tsv\", package = \"sgsload\") marker_peaks <- system.file(\"extdata/scATAC\", \"marker_peaks.tsv\", package = \"sgsload\") # create a marker file list and name the list with the correlated assay name markers <- list(marker_genes, marker_motifs, marker_peaks) names(markers) <- c(\"RNA\", \"chromvar\", \"peaks\") # if you changed the fragments file path, you should update the fragments file path sorted in the signac object new.path <- system.file(\"extdata/scATAC\", \"fragments.tsv.gz\", package = \"sgsload\") fragments <- CreateFragmentObject( path = new.path, cells = colnames(atac), validate.fragments = TRUE ) Fragments(atac) <- NULL Fragments(atac) <- fragments # use the export function to loadding the scATAC object into SGS cellbrowser result_json2 <- ExportSC( object = atac, species_id = \"25542c58734641fe98ba9f6b51d17a20\", track_name = \"atac_demo\", track_type = \"scATAC\", select_group = c(\"seurat_clusters\"), assays = c(\"RNA\", \"chromvar\", \"peaks\"), matrix.slot = list(\"RNA\" = \"data\", \"chromvar\" = \"data\", \"peaks\" = \"data\"), assay.type = list(\"RNA\" = \"gene\", \"chromvar\" = \"motif\", \"peaks\" = \"peak\"), reductions = \"umap\", marker.files = markers)","title":"Guide of R server"},{"location":"R_server/#interactive-single-cell-data-analysis-and-visualization","text":"","title":"Interactive single cell data analysis and visualization"},{"location":"R_server/#rstudio-server","text":"In order to provide a comprehensive visual exploration of single-cell data, the SGS browser integrates the online Rstduio Server. By clicking the button, users can enter the analysis environment and perform corresponding single-cell data analysis.","title":"Rstudio Server"},{"location":"R_server/#data-formats-supports","text":"Currently SGS supports the following mainstream single-cell data analysis formats. Note that all objects must contain at least one expression matrix, grouping information and reduction coordinate file. Seurat object Loom object Signac object ArchR object","title":"Data formats supports"},{"location":"R_server/#export-single-cell-data","text":"","title":"Export single-cell data"},{"location":"R_server/#installation-sgsload-package","text":"In order to realize the joint exploration of data analysis and visualization, we developed a sgsload R package to directly import the single-cell analysis objects generated by the Rstudio server analysis environment. # download package # install from github devtools::install_github(\"bio-xtt/sgsload\") # install from source install.packages(\"/home/bio-xtt/Desktop/sgsload_0.1.0.tar.gz\", type=source)","title":"Installation sgsload Package"},{"location":"R_server/#usage-of-sgsload","text":"","title":"Usage of sgsload"},{"location":"R_server/#getting-specices-id","text":"Note that before importing single-cell analysis objects directly into the SGS single-cell browser, you need to add a species fasta file and view the id of the species. # load the package library(sgsload) # get the speices id information, the default userid is \"user001\". get_species_inform(user_id)","title":"Getting specices id"},{"location":"R_server/#example1-loadding-seurat-object-into-sgs-cellbrowser","text":"Loadding a scRNA object created by Seurat into SGS cellbrowser. # load the example datasets: pbmc_small data(\"pbmc_small\") # load the example marker genes: marker.tsv marker_file <- system.file(\"extdata/scRNA\", \"markers.tsv\", package = \"sgsload\") # use the export function result_json <- ExportSC( object = pbmc_small, species_id = \"25542c58734641fe98ba9f6b51d17a20\", track_name = \"pbmc_small\", track_type = \"scRNA\", select_group = c(\"groups\", \"RNA_snn_res.0.8\", \"letter.idents\", \"cluster\"), assays = \"RNA\", matrix.slot = list(\"RNA\" = \"data\"), assay.type = list(\"RNA\" = \"gene\"), reductions = c(\"tsne\", \"umap\"), marker.files = list(\"RNA\" = marker_file))","title":"Example1: Loadding Seurat object into SGS cellbrowser"},{"location":"R_server/#example2-loadding-signac-object-into-sgs-cellbrowser","text":"Loadding a scATAC object created by Signac into SGS cellbrowser. # load the package library(sgsload) # get the speices id information get_species_inform(user_id) # load the example datasets: pbmc_small data(\"atac\") # load the example marker files created by different assay: marker_gene.tsv\u3001marker_motif.tsv\u3001marker_peak.tsv marker_genes <- system.file(\"extdata/scATAC\", \"marker_genes.tsv\", package = \"sgsload\") marker_motifs <- system.file(\"extdata/scATAC\", \"marker_motif.tsv\", package = \"sgsload\") marker_peaks <- system.file(\"extdata/scATAC\", \"marker_peaks.tsv\", package = \"sgsload\") # create a marker file list and name the list with the correlated assay name markers <- list(marker_genes, marker_motifs, marker_peaks) names(markers) <- c(\"RNA\", \"chromvar\", \"peaks\") # if you changed the fragments file path, you should update the fragments file path sorted in the signac object new.path <- system.file(\"extdata/scATAC\", \"fragments.tsv.gz\", package = \"sgsload\") fragments <- CreateFragmentObject( path = new.path, cells = colnames(atac), validate.fragments = TRUE ) Fragments(atac) <- NULL Fragments(atac) <- fragments # use the export function to loadding the scATAC object into SGS cellbrowser result_json2 <- ExportSC( object = atac, species_id = \"25542c58734641fe98ba9f6b51d17a20\", track_name = \"atac_demo\", track_type = \"scATAC\", select_group = c(\"seurat_clusters\"), assays = c(\"RNA\", \"chromvar\", \"peaks\"), matrix.slot = list(\"RNA\" = \"data\", \"chromvar\" = \"data\", \"peaks\" = \"data\"), assay.type = list(\"RNA\" = \"gene\", \"chromvar\" = \"motif\", \"peaks\" = \"peak\"), reductions = \"umap\", marker.files = markers)","title":"Example2: Loadding Signac object into SGS cellbrowser"},{"location":"Viewing_NGS/","text":"View NGS data GFF track GFF file is a \\t-delimited, 9-column plain text file. It mainly describes the interval information of various features on the genome, including chromosomes, genes, transcripts etc. NC_000001.11 BestRefSeq pseudogene 11874 14409 . + . ID=gene0;Dbxref=GeneID:100287102,HGNC:HGNC:37102;Name=DDX11L1;description=DEAD/H-box helicase 11 like 1;gbkey=Gene;gene=DDX11L1;gene_biotype=transcribed_pseudogene;pseudo=true NC_000001.11 BestRefSeq transcript 11874 14409 . + . ID=rna0;Parent=gene0;Dbxref=GeneID:100287102,Genbank:NR_046018.2,HGNC:HGNC:37102;Name=NR_046018.2;gbkey=misc_RNA;gene=DDX11L1;product=DEAD/H-box helicase 11 like 1;transcript_id=NR_046018.2 NC_000001.11 BestRefSeq exon 11874 12227 . + . ID=id1;Parent=rna0;Dbxref=GeneID:100287102,Genbank:NR_046018.2,HGNC:HGNC:37102;gbkey=misc_RNA;gene=DDX11L1;product=DEAD/H-box helicase 11 like 1;transcript_id=NR_046018.2 NC_000001.11 BestRefSeq exon 12613 12721 . + . ID=id2;Parent=rna0;Dbxref=GeneID:100287102,Genbank:NR_046018.2,HGNC:HGNC:37102;gbkey=misc_RNA;gene=DDX11L1;product=DEAD/H-box helicase 11 like 1;transcript_id=NR_046018.2 NC_000001.11 BestRefSeq exon 13221 14409 . + . ID=id3;Parent=rna0;Dbxref=GeneID:100287102,Genbank:NR_046018.2,HGNC:HGNC:37102;gbkey=misc_RNA;gene=DDX11L1;product=DEAD/H-box helicase 11 like 1;transcript_id=NR_046018.2 The SGS genome browser visualizes genes and their corresponding transcripts structures by grouping. Users can adjust the style of GFF feature in track theme to view their interesting structures such as CDS, EXON, UTR. VCF track VCF is the abbreviation of Variant Call Format( UCSC vcf format ), which is a text file specially used to store gene sequence mutation information, including single base mutation SNV, single nucleotide polymorphism SNP, InDel, copy number variation CNV and structure Variant SV, etc. The beginning of the VCF file is the overall comment information, starting with ##, each line of the vcf body is a record, the fixed column has 9 columns, and the tenth column after that, they are: Column Information First column CHROM: chromosome number; Second column POS: position on chromosome; Third column ID: mutation name; Fourth column REF: reference genome base type; Fifth column ALT: variant base type; Sixth column QUAL: the quality value of variant detection, the higher the more reliable Seventh column FILTER: the column that marks the filtering result; the one that passes the quality control filtering standard is marked as 'PASS'; Eighth column INFO: additional information column; Ninth column FORMAT: the description column of the following information; Tenth column sample information: GT=genotype, AD=number of bases supported, DP=sum of sequencing depth, PL=probability of genotype after normalization, GQ=quality value of genotype called by PL; ##fileformat=VCFv4.0 ##fileDate=20090805 ##source=myImputationProgramV3.1 ##reference=1000GenomesPilot-NCBI36 ##phasing=partial ##INFO=<ID=NS,Number=1,Type=Integer,Description=\"Number of Samples With Data\"> ##INFO=<ID=DP,Number=1,Type=Integer,Description=\"Total Depth\"> ##INFO=<ID=H2,Number=0,Type=Flag,Description=\"HapMap2 membership\"> ##FILTER=<ID=q10,Description=\"Quality below 10\"> ##FORMAT=<ID=GT,Number=1,Type=String,Description=\"Genotype\"> ##FORMAT=<ID=HQ,Number=2,Type=Integer,Description=\"Haplotype Quality\"> #CHROM POS ID REF ALT QUAL FILTER INFO FORMAT NA00001 NA00002 NA00003 20 14370 rs6054257 G A 29 PASS NS=3;DP=14;AF=0.5;DB;H2 GT:GQ:DP:HQ 0|0:48:1:51,51 1|0:48:8:51,51 1/1:43:5:.,. 20 17330 . T A 3 q10 NS=3;DP=11;AF=0.017 GT:GQ:DP:HQ 0|0:49:3:58,50 0|1:3:5:65,3 0/0:41:3 20 1110696 rs6040355 A G,T 67 PASS NS=2;DP=10;AF=0.333,0.667;AA=T;DB GT:GQ:DP:HQ 1|2:21:6:23,27 2|1:2:0:18,2 2/2:35:4 20 1230237 . T . 47 PASS NS=3;DP=13;AA=T GT:GQ:DP:HQ 0|0:54:7:56,60 0|0:48:4:51,51 0/0:61:2 20 1234567 microsat1 GTCT G,GTACT 50 PASS NS=3;DP=9;AA=G GT:GQ:DP 0/1:35:4 0/2:17:2 1/1:40:3 The display effect of SGS is as follows: SGS not only displays the variation position and variation type of the variation site, but also displays the variation information of each sample, including statistical classification of sample variation information, genotype information (homozygous, heterozygous, non-variant), variation Details such as number, variant score, etc. Bam track The BAM file is the binary format of the SAM file, which mainly records the sequence alignment. The SGS Genome Browser supports direct visualization of index-free bam files. The bam track visualization in SGS is mainly composed of two parts, one is bam coverage sub track and the other is bam alignment sub track. Bam coverage track BAM coverage mainly displays the number of aligned reads at each position on the genome, the number of A, T, C, G mutation sites and the statistics of reads strands. Bam alignment track The BAM alignment track mainly displays sequence alignments, such as mutation sites , indels , gap regions , soft and hard clipping. BigWig Track BigWig files are created from wiggle (wig) type files using the wigToBigWig program. bigWig files are indexed binary formats( UCSC bigwig format ). The display performance of bigWig files is much faster than regular wiggle files when dealing with large datasets. Note: Wiggle data must be contiguous and consist of elements of equal size. If your data is sparse or contains elements of different sizes, use bedGraph format instead of wiggle format. If you have a very large bedGraph dataset, you can convert it to bigWig format using the bedGraphToBigWig program. The SGS display effect is as follows, SGS presents dense, continuous data and graphs this data, with peaks representing scores at different locations. SGS can use the track tag to select the normalization method of data to achieve the research purpose of displaying different data, At the same time, users can also choose different image display methods for different data. For example, track1 and track in the following figure have selected different normalization methods way and type of graph. Bedgraph Track Bedgraph is a \\t-delimited, 4-column plain text file. It mainly used to records continuous data such as transcriptome or chip analysis data. The first column is chromosome , second column is start position , third column is end position and the last column is third column is dataValue . chr19 49302000 49302300 -1.0 chr19 49302300 49302600 -0.75 chr19 49302600 49302900 -0.50 chr19 49302900 49303200 -0.25 chr19 49303200 49303500 0.0 chr19 49303500 49303800 0.25 chr19 49303800 49304100 0.50 chr19 49304100 49304400 0.75 chr19 49304400 49304700 1.00 Similar to the bigwig file display, the SGS genome browser also provides the following modes to display it visually, namely: bar plot , line plot , area chart , xxxx , Scatter plot . Bed Track A track for all bed-like files (with first column chromosome, second start and third end). If the other columns fit the requirement as defined in UCSC additional fields can be used. For example, the 5th and 9th column can be used to change the color of intervals, the 6th column indicate the strand. By default, intervals without strand are displayed as rectangle and for intervals with strand an arrow is added at the extremity (not included in the interval). In case of BED12 format, the introns are displayed into another color. But other styles are available. chr7 127471196 127472363 Pos1 0 + 127471196 127472363 255,0,0 chr7 127472363 127473530 Pos2 0 + 127472363 127473530 255,0,0 chr7 127473530 127474697 Pos3 0 + 127473530 127474697 255,0,0 chr7 127474697 127475864 Pos4 0 + 127474697 127475864 255,0,0 chr7 127475864 127477031 Neg1 0 - 127475864 127477031 0,0,255 chr7 127477031 127478198 Neg2 0 - 127477031 127478198 0,0,255 chr7 127478198 127479365 Neg3 0 - 127478198 127479365 0,0,255 chr7 127479365 127480532 Pos5 0 + 127479365 127480532 255,0,0 chr7 127480532 127481699 Neg4 0 - 127480532 127481699 0,0,255 At a larger zoom level, the SGS genome browser provides a variety of modes to display the statistical distribution of the number of bed fearures. At a smaller zoom level, it mainly displays the bed feature structure. MelthyC Track The methylC file is a 7-column bed file that mainly records methylation at different genomic sites. From left to right, they are\uff1a chromosome , start position (0-based), end position (not included), methylation context (CG, CHG, CHG etc.), methylation value , strand , and read depth . chr1 10542 10543 CG 0.923 - 26 chr1 10556 10557 CHH 0.040 - 25 chr1 10562 10563 CG 0.941 + 17 chr1 10563 10564 CG 0.958 - 24 chr1 10564 10565 CHG 0.056 + 18 chr1 10566 10567 CHG 0.045 - 22 chr1 10570 10571 CG 0.870 + 23 chr1 10571 10572 CG 0.913 - 23 In order to better compare different methylation types, SGS displays CHG, CHH, CG and read depth information on the same track, and the specific methylation status of a genomic site can be viewed through mouse hover. In addition, the SGS genome browser also provides a split chart function to display the distribution of different methylation types separately. Chromatin interaction Track Hic SGS mainly supports the visualization of .hic files, which mainly record the interaction information of different genome intervals. For specific hic data format, please refer to\uff1a hic format . We provide two modes of heat map and Arc to display the hic folder. Users can zoom to different levels to view the interaction at different resolutions, and the intensity of the interaction is displayed through the color depth. Users can view the two through the mouse hover. The interaction value of the interaction interval. heatmap mode Arc mode In Arc mode, two interaction intervals are connected by arcs, Users can obtain the interaction value of two interacting genome intervals by hovering the line. Longrange and biginteract The longrange track is a bed format-like file type. It mainly consists of 4-6 columns, of which the first 4 columns are required and the last two columns are optional. From left to right are chromosome , start position (0-based), end position (not included), ineraction target , ID (optional) and interaction direction (optional). The target field mainly contains information such as the position of the target interaction interval and the interaction value. As an example, interval \"chr1:840086-840670\" interacts with interval \"chr1:873317-874094\" on a score of 2. chr1 840086 840670 chr1:873317-874094,2 7837 + chr1 856372 857075 chr1:873472-874198,2 7839 + chr1 873317 874094 chr1:840086-840670,2 7838 - chr1 873472 874198 chr1:856372-857075,2 7840 - chr1 950622 951436 chr1:998665-999659,3 7841 + chr1 974252 975234 chr11:518876-519376,2 71 . chr1 974252 975234 chr11:518876-519376,2 69 . chr1 998665 999659 chr1:950622-951436,3 7842 - chr1 1056750 1057253 chr1:1165823-1166794,2 7843 + chr1 1056981 1057755 chr1:1185448-1186693,3 7845 + The interact format is available as a standalone plain text bed5+13 format. Biginteract is a binary indexed interact format. This format is useful for displaying functional element interactions such as SNP/gene interactions, and is also suitable for low-density chromatin interactions, such as ChIA-PET. For more details about this format, please check the UCSC biginteract format page. SGS genome browser provides Arc mode, double mode and circle mode to display long-distance interaction. Arc mode Arc mainly shows the interaction of the same chromosome through arcs. Double mode The double-layer mode is mainly viewed in the compare mode, which forms an interaction block through the interaction interval between the upper and lower chromosomes. The strength of the interaction through the intensity of the color. Users can zoom in/out the region by hovering the mouse wheel on a chromosome or switch the interaction range by drag left/right. Cirlce mode Users can click the circle view button in the track settings to enter the circle display mode, which mainly displays the interaction connection between the currently viewed chromosome and other chromosomes. Users can check their interactions by selecting the corresponding chromosomes.","title":"Viewing NGS data"},{"location":"Viewing_NGS/#view-ngs-data","text":"","title":"View NGS data"},{"location":"Viewing_NGS/#gff-track","text":"GFF file is a \\t-delimited, 9-column plain text file. It mainly describes the interval information of various features on the genome, including chromosomes, genes, transcripts etc. NC_000001.11 BestRefSeq pseudogene 11874 14409 . + . ID=gene0;Dbxref=GeneID:100287102,HGNC:HGNC:37102;Name=DDX11L1;description=DEAD/H-box helicase 11 like 1;gbkey=Gene;gene=DDX11L1;gene_biotype=transcribed_pseudogene;pseudo=true NC_000001.11 BestRefSeq transcript 11874 14409 . + . ID=rna0;Parent=gene0;Dbxref=GeneID:100287102,Genbank:NR_046018.2,HGNC:HGNC:37102;Name=NR_046018.2;gbkey=misc_RNA;gene=DDX11L1;product=DEAD/H-box helicase 11 like 1;transcript_id=NR_046018.2 NC_000001.11 BestRefSeq exon 11874 12227 . + . ID=id1;Parent=rna0;Dbxref=GeneID:100287102,Genbank:NR_046018.2,HGNC:HGNC:37102;gbkey=misc_RNA;gene=DDX11L1;product=DEAD/H-box helicase 11 like 1;transcript_id=NR_046018.2 NC_000001.11 BestRefSeq exon 12613 12721 . + . ID=id2;Parent=rna0;Dbxref=GeneID:100287102,Genbank:NR_046018.2,HGNC:HGNC:37102;gbkey=misc_RNA;gene=DDX11L1;product=DEAD/H-box helicase 11 like 1;transcript_id=NR_046018.2 NC_000001.11 BestRefSeq exon 13221 14409 . + . ID=id3;Parent=rna0;Dbxref=GeneID:100287102,Genbank:NR_046018.2,HGNC:HGNC:37102;gbkey=misc_RNA;gene=DDX11L1;product=DEAD/H-box helicase 11 like 1;transcript_id=NR_046018.2 The SGS genome browser visualizes genes and their corresponding transcripts structures by grouping. Users can adjust the style of GFF feature in track theme to view their interesting structures such as CDS, EXON, UTR.","title":"GFF track"},{"location":"Viewing_NGS/#vcf-track","text":"VCF is the abbreviation of Variant Call Format( UCSC vcf format ), which is a text file specially used to store gene sequence mutation information, including single base mutation SNV, single nucleotide polymorphism SNP, InDel, copy number variation CNV and structure Variant SV, etc. The beginning of the VCF file is the overall comment information, starting with ##, each line of the vcf body is a record, the fixed column has 9 columns, and the tenth column after that, they are: Column Information First column CHROM: chromosome number; Second column POS: position on chromosome; Third column ID: mutation name; Fourth column REF: reference genome base type; Fifth column ALT: variant base type; Sixth column QUAL: the quality value of variant detection, the higher the more reliable Seventh column FILTER: the column that marks the filtering result; the one that passes the quality control filtering standard is marked as 'PASS'; Eighth column INFO: additional information column; Ninth column FORMAT: the description column of the following information; Tenth column sample information: GT=genotype, AD=number of bases supported, DP=sum of sequencing depth, PL=probability of genotype after normalization, GQ=quality value of genotype called by PL; ##fileformat=VCFv4.0 ##fileDate=20090805 ##source=myImputationProgramV3.1 ##reference=1000GenomesPilot-NCBI36 ##phasing=partial ##INFO=<ID=NS,Number=1,Type=Integer,Description=\"Number of Samples With Data\"> ##INFO=<ID=DP,Number=1,Type=Integer,Description=\"Total Depth\"> ##INFO=<ID=H2,Number=0,Type=Flag,Description=\"HapMap2 membership\"> ##FILTER=<ID=q10,Description=\"Quality below 10\"> ##FORMAT=<ID=GT,Number=1,Type=String,Description=\"Genotype\"> ##FORMAT=<ID=HQ,Number=2,Type=Integer,Description=\"Haplotype Quality\"> #CHROM POS ID REF ALT QUAL FILTER INFO FORMAT NA00001 NA00002 NA00003 20 14370 rs6054257 G A 29 PASS NS=3;DP=14;AF=0.5;DB;H2 GT:GQ:DP:HQ 0|0:48:1:51,51 1|0:48:8:51,51 1/1:43:5:.,. 20 17330 . T A 3 q10 NS=3;DP=11;AF=0.017 GT:GQ:DP:HQ 0|0:49:3:58,50 0|1:3:5:65,3 0/0:41:3 20 1110696 rs6040355 A G,T 67 PASS NS=2;DP=10;AF=0.333,0.667;AA=T;DB GT:GQ:DP:HQ 1|2:21:6:23,27 2|1:2:0:18,2 2/2:35:4 20 1230237 . T . 47 PASS NS=3;DP=13;AA=T GT:GQ:DP:HQ 0|0:54:7:56,60 0|0:48:4:51,51 0/0:61:2 20 1234567 microsat1 GTCT G,GTACT 50 PASS NS=3;DP=9;AA=G GT:GQ:DP 0/1:35:4 0/2:17:2 1/1:40:3 The display effect of SGS is as follows: SGS not only displays the variation position and variation type of the variation site, but also displays the variation information of each sample, including statistical classification of sample variation information, genotype information (homozygous, heterozygous, non-variant), variation Details such as number, variant score, etc.","title":"VCF track"},{"location":"Viewing_NGS/#bam-track","text":"The BAM file is the binary format of the SAM file, which mainly records the sequence alignment. The SGS Genome Browser supports direct visualization of index-free bam files. The bam track visualization in SGS is mainly composed of two parts, one is bam coverage sub track and the other is bam alignment sub track.","title":"Bam track"},{"location":"Viewing_NGS/#bam-coverage-track","text":"BAM coverage mainly displays the number of aligned reads at each position on the genome, the number of A, T, C, G mutation sites and the statistics of reads strands.","title":"Bam coverage track"},{"location":"Viewing_NGS/#bam-alignment-track","text":"The BAM alignment track mainly displays sequence alignments, such as mutation sites , indels , gap regions , soft and hard clipping.","title":"Bam alignment track"},{"location":"Viewing_NGS/#bigwig-track","text":"BigWig files are created from wiggle (wig) type files using the wigToBigWig program. bigWig files are indexed binary formats( UCSC bigwig format ). The display performance of bigWig files is much faster than regular wiggle files when dealing with large datasets. Note: Wiggle data must be contiguous and consist of elements of equal size. If your data is sparse or contains elements of different sizes, use bedGraph format instead of wiggle format. If you have a very large bedGraph dataset, you can convert it to bigWig format using the bedGraphToBigWig program. The SGS display effect is as follows, SGS presents dense, continuous data and graphs this data, with peaks representing scores at different locations. SGS can use the track tag to select the normalization method of data to achieve the research purpose of displaying different data, At the same time, users can also choose different image display methods for different data. For example, track1 and track in the following figure have selected different normalization methods way and type of graph.","title":"BigWig Track"},{"location":"Viewing_NGS/#bedgraph-track","text":"Bedgraph is a \\t-delimited, 4-column plain text file. It mainly used to records continuous data such as transcriptome or chip analysis data. The first column is chromosome , second column is start position , third column is end position and the last column is third column is dataValue . chr19 49302000 49302300 -1.0 chr19 49302300 49302600 -0.75 chr19 49302600 49302900 -0.50 chr19 49302900 49303200 -0.25 chr19 49303200 49303500 0.0 chr19 49303500 49303800 0.25 chr19 49303800 49304100 0.50 chr19 49304100 49304400 0.75 chr19 49304400 49304700 1.00 Similar to the bigwig file display, the SGS genome browser also provides the following modes to display it visually, namely: bar plot , line plot , area chart , xxxx , Scatter plot .","title":"Bedgraph Track"},{"location":"Viewing_NGS/#bed-track","text":"A track for all bed-like files (with first column chromosome, second start and third end). If the other columns fit the requirement as defined in UCSC additional fields can be used. For example, the 5th and 9th column can be used to change the color of intervals, the 6th column indicate the strand. By default, intervals without strand are displayed as rectangle and for intervals with strand an arrow is added at the extremity (not included in the interval). In case of BED12 format, the introns are displayed into another color. But other styles are available. chr7 127471196 127472363 Pos1 0 + 127471196 127472363 255,0,0 chr7 127472363 127473530 Pos2 0 + 127472363 127473530 255,0,0 chr7 127473530 127474697 Pos3 0 + 127473530 127474697 255,0,0 chr7 127474697 127475864 Pos4 0 + 127474697 127475864 255,0,0 chr7 127475864 127477031 Neg1 0 - 127475864 127477031 0,0,255 chr7 127477031 127478198 Neg2 0 - 127477031 127478198 0,0,255 chr7 127478198 127479365 Neg3 0 - 127478198 127479365 0,0,255 chr7 127479365 127480532 Pos5 0 + 127479365 127480532 255,0,0 chr7 127480532 127481699 Neg4 0 - 127480532 127481699 0,0,255 At a larger zoom level, the SGS genome browser provides a variety of modes to display the statistical distribution of the number of bed fearures. At a smaller zoom level, it mainly displays the bed feature structure.","title":"Bed Track"},{"location":"Viewing_NGS/#melthyc-track","text":"The methylC file is a 7-column bed file that mainly records methylation at different genomic sites. From left to right, they are\uff1a chromosome , start position (0-based), end position (not included), methylation context (CG, CHG, CHG etc.), methylation value , strand , and read depth . chr1 10542 10543 CG 0.923 - 26 chr1 10556 10557 CHH 0.040 - 25 chr1 10562 10563 CG 0.941 + 17 chr1 10563 10564 CG 0.958 - 24 chr1 10564 10565 CHG 0.056 + 18 chr1 10566 10567 CHG 0.045 - 22 chr1 10570 10571 CG 0.870 + 23 chr1 10571 10572 CG 0.913 - 23 In order to better compare different methylation types, SGS displays CHG, CHH, CG and read depth information on the same track, and the specific methylation status of a genomic site can be viewed through mouse hover. In addition, the SGS genome browser also provides a split chart function to display the distribution of different methylation types separately.","title":"MelthyC Track"},{"location":"Viewing_NGS/#chromatin-interaction-track","text":"","title":"Chromatin interaction Track"},{"location":"Viewing_NGS/#hic","text":"SGS mainly supports the visualization of .hic files, which mainly record the interaction information of different genome intervals. For specific hic data format, please refer to\uff1a hic format . We provide two modes of heat map and Arc to display the hic folder. Users can zoom to different levels to view the interaction at different resolutions, and the intensity of the interaction is displayed through the color depth. Users can view the two through the mouse hover. The interaction value of the interaction interval.","title":"Hic"},{"location":"Viewing_NGS/#heatmap-mode","text":"","title":"heatmap mode"},{"location":"Viewing_NGS/#arc-mode","text":"In Arc mode, two interaction intervals are connected by arcs, Users can obtain the interaction value of two interacting genome intervals by hovering the line.","title":"Arc mode"},{"location":"Viewing_NGS/#longrange-and-biginteract","text":"The longrange track is a bed format-like file type. It mainly consists of 4-6 columns, of which the first 4 columns are required and the last two columns are optional. From left to right are chromosome , start position (0-based), end position (not included), ineraction target , ID (optional) and interaction direction (optional). The target field mainly contains information such as the position of the target interaction interval and the interaction value. As an example, interval \"chr1:840086-840670\" interacts with interval \"chr1:873317-874094\" on a score of 2. chr1 840086 840670 chr1:873317-874094,2 7837 + chr1 856372 857075 chr1:873472-874198,2 7839 + chr1 873317 874094 chr1:840086-840670,2 7838 - chr1 873472 874198 chr1:856372-857075,2 7840 - chr1 950622 951436 chr1:998665-999659,3 7841 + chr1 974252 975234 chr11:518876-519376,2 71 . chr1 974252 975234 chr11:518876-519376,2 69 . chr1 998665 999659 chr1:950622-951436,3 7842 - chr1 1056750 1057253 chr1:1165823-1166794,2 7843 + chr1 1056981 1057755 chr1:1185448-1186693,3 7845 + The interact format is available as a standalone plain text bed5+13 format. Biginteract is a binary indexed interact format. This format is useful for displaying functional element interactions such as SNP/gene interactions, and is also suitable for low-density chromatin interactions, such as ChIA-PET. For more details about this format, please check the UCSC biginteract format page. SGS genome browser provides Arc mode, double mode and circle mode to display long-distance interaction.","title":"Longrange and biginteract"},{"location":"Viewing_NGS/#arc-mode_1","text":"Arc mainly shows the interaction of the same chromosome through arcs.","title":"Arc mode"},{"location":"Viewing_NGS/#double-mode","text":"The double-layer mode is mainly viewed in the compare mode, which forms an interaction block through the interaction interval between the upper and lower chromosomes. The strength of the interaction through the intensity of the color. Users can zoom in/out the region by hovering the mouse wheel on a chromosome or switch the interaction range by drag left/right.","title":"Double mode"},{"location":"Viewing_NGS/#cirlce-mode","text":"Users can click the circle view button in the track settings to enter the circle display mode, which mainly displays the interaction connection between the currently viewed chromosome and other chromosomes. Users can check their interactions by selecting the corresponding chromosomes.","title":"Cirlce mode"},{"location":"Viewing_singlecell/","text":"View single cell data Cell embeddings The center of single cell browser mainly displays the embedding with annotation, where each cell is a point. Different reduction methods, such as UMAP, tSNE or some other dimensionality, produce different cell clustering distributions. Marker feature visualization SGS Genome Browser provides multiple ways to display marker features such as marker gene, marker motif, marker peak. Display of marker gene In SGS single cell browser, users can explore single or multi marker genes through scatter plot, violin plot, boxplot or heatmap display methods. The scatter plot of the marker gene mainly show the expression distribution of this gene in different cell clusters. Violin plot or boxplot mainly shows the statistical distribution of the expression value of the marker gene in each cluster. The heatmap shows the expression distribution of multiple marker genes in different cell groups. The cell group annotations and expression legends are displayed on the top and side of the heatmap, respectively. Display of marker peak In addition to the display of marker genes, SGS genome browser visualizes the distribution of chromatin accessibility signals near the marker peaks of interest. By displaying the chromatin accessibility peaks of multiple marker peaks at the same time, it is convenient for users to perform comparative analysis. Display of marker motif For the marker motif, in addition to providing conventional displays such as scatter plots, violin plots etc. SGS genome browser also draws the motif logo. scRNAseq track visualization In order to facilitate users to view the structure of the marker gene of interest and obtain the expression of the gene in different cell groups, SGS genome browser displays the median expression of the gene in each cell groups through bar graphs at the location of a gene. Each bar represents a cell or tissue type. The height of the bar graph on the genome is the median expression level. Users can gain the expression scatter plot in the single cell browser by click on the gene bar track in the genome browser. scATACseq track visualization For single-cell atac data, the SGS browser mainly displays the following three pieces of information: (1) Distribution of chromatin accessibility in different cell groups; (2) Marker peaks obtained by analysis; (3) Correlation lines of peak-peak/peak-gene obtained by co-accessibility analysis.","title":"Viewing single cell data"},{"location":"Viewing_singlecell/#view-single-cell-data","text":"","title":"View single cell data"},{"location":"Viewing_singlecell/#cell-embeddings","text":"The center of single cell browser mainly displays the embedding with annotation, where each cell is a point. Different reduction methods, such as UMAP, tSNE or some other dimensionality, produce different cell clustering distributions.","title":"Cell embeddings"},{"location":"Viewing_singlecell/#marker-feature-visualization","text":"SGS Genome Browser provides multiple ways to display marker features such as marker gene, marker motif, marker peak.","title":"Marker feature visualization"},{"location":"Viewing_singlecell/#display-of-marker-gene","text":"In SGS single cell browser, users can explore single or multi marker genes through scatter plot, violin plot, boxplot or heatmap display methods. The scatter plot of the marker gene mainly show the expression distribution of this gene in different cell clusters. Violin plot or boxplot mainly shows the statistical distribution of the expression value of the marker gene in each cluster. The heatmap shows the expression distribution of multiple marker genes in different cell groups. The cell group annotations and expression legends are displayed on the top and side of the heatmap, respectively.","title":"Display of marker gene"},{"location":"Viewing_singlecell/#display-of-marker-peak","text":"In addition to the display of marker genes, SGS genome browser visualizes the distribution of chromatin accessibility signals near the marker peaks of interest. By displaying the chromatin accessibility peaks of multiple marker peaks at the same time, it is convenient for users to perform comparative analysis.","title":"Display of marker peak"},{"location":"Viewing_singlecell/#display-of-marker-motif","text":"For the marker motif, in addition to providing conventional displays such as scatter plots, violin plots etc. SGS genome browser also draws the motif logo.","title":"Display of marker motif"},{"location":"Viewing_singlecell/#scrnaseq-track-visualization","text":"In order to facilitate users to view the structure of the marker gene of interest and obtain the expression of the gene in different cell groups, SGS genome browser displays the median expression of the gene in each cell groups through bar graphs at the location of a gene. Each bar represents a cell or tissue type. The height of the bar graph on the genome is the median expression level. Users can gain the expression scatter plot in the single cell browser by click on the gene bar track in the genome browser.","title":"scRNAseq track visualization"},{"location":"Viewing_singlecell/#scatacseq-track-visualization","text":"For single-cell atac data, the SGS browser mainly displays the following three pieces of information: (1) Distribution of chromatin accessibility in different cell groups; (2) Marker peaks obtained by analysis; (3) Correlation lines of peak-peak/peak-gene obtained by co-accessibility analysis.","title":"scATACseq track visualization"},{"location":"demos/","text":"","title":"Demos"},{"location":"documentation/","text":"","title":"Documentation"},{"location":"home/","text":"Welcome to SGS's documentation! A new browser to visualize next-generation genome and single cell omics data. Features Supports FASTA, GFF3, VCF, BED, BigWig, BAM, melthyC, Hic, Longrange and Biginteract genomics data formats Supports the visualization of single cell outputs from Seurat and Signac. Integrated Rstdudio server into SGS browser.Allows user interactive exploration of data analysis and visualization Simplified localization deployment. The workfolw of SGS browser Here is a scheme which describe how SGS browser is working:","title":"Home"},{"location":"home/#welcome-to-sgss-documentation","text":"","title":"Welcome to SGS's documentation!"},{"location":"home/#a-new-browser-to-visualize-next-generation-genome-and-single-cell-omics-data","text":"","title":"A new browser to visualize next-generation genome and single cell omics data."},{"location":"home/#features","text":"Supports FASTA, GFF3, VCF, BED, BigWig, BAM, melthyC, Hic, Longrange and Biginteract genomics data formats Supports the visualization of single cell outputs from Seurat and Signac. Integrated Rstdudio server into SGS browser.Allows user interactive exploration of data analysis and visualization Simplified localization deployment.","title":"Features"},{"location":"home/#the-workfolw-of-sgs-browser","text":"Here is a scheme which describe how SGS browser is working:","title":"The workfolw of SGS browser"},{"location":"installation/","text":"Installation and deploy SGS is build with docker technology, which consists of SGS client and server. SGS browser client supports MacOS, Linux and windows systems. SGS browser server can only be deployed on Liunx or MacOS systems. Requirements Liunx, Windows or MacOS systems Docker Installation on linux or MacOS # download packages wget \"https://xxxxx/xxx.tar.gz\" gunzip xxx.tar.gz ./flutter_smart_genome Deploy new SGS server SGS browser is mainly composed of two parts:SGS server and SGS client. After downloading and installing the SGS client, we also need to deploy SGS server for data visuliation. Here\uff0cwe have developed a one-click deployment function that simplifies the installation steps, allowing users to quickly deploy their own native SGS services. Note that only Linux or MacOS supports this function. First step:clicking the one-click deploy button We need to open the SGS browser client and click the one-click deploy button, then we can choose this computer or remote computer to install SGS service: Second step:Filling relevant information. We need to provide server ip address, port, username, password information for SGS server installation. Then, entering the deployment interface and filling the root password again. Deploy on this computer Deploy on this computer only need to offer root password. Deploy on remote computer IP: the server IP address, we can view it by \"ifconfig -a\" command. username: the name of user password: the password of the server Finish SGS deploy After installation, we can see the web server, R server and local server.","title":"Installation and deploy"},{"location":"installation/#installation-and-deploy","text":"SGS is build with docker technology, which consists of SGS client and server. SGS browser client supports MacOS, Linux and windows systems. SGS browser server can only be deployed on Liunx or MacOS systems.","title":"Installation and deploy"},{"location":"installation/#requirements","text":"Liunx, Windows or MacOS systems Docker","title":"Requirements"},{"location":"installation/#installation-on-linux-or-macos","text":"# download packages wget \"https://xxxxx/xxx.tar.gz\" gunzip xxx.tar.gz ./flutter_smart_genome","title":"Installation on linux or MacOS"},{"location":"installation/#deploy-new-sgs-server","text":"SGS browser is mainly composed of two parts:SGS server and SGS client. After downloading and installing the SGS client, we also need to deploy SGS server for data visuliation. Here\uff0cwe have developed a one-click deployment function that simplifies the installation steps, allowing users to quickly deploy their own native SGS services. Note that only Linux or MacOS supports this function.","title":"Deploy new SGS server"},{"location":"installation/#first-stepclicking-the-one-click-deploy-button","text":"We need to open the SGS browser client and click the one-click deploy button, then we can choose this computer or remote computer to install SGS service:","title":"First step:clicking the one-click deploy button"},{"location":"installation/#second-stepfilling-relevant-information","text":"We need to provide server ip address, port, username, password information for SGS server installation. Then, entering the deployment interface and filling the root password again.","title":"Second step:Filling relevant information."},{"location":"installation/#deploy-on-this-computer","text":"Deploy on this computer only need to offer root password.","title":"Deploy on this computer"},{"location":"installation/#deploy-on-remote-computer","text":"IP: the server IP address, we can view it by \"ifconfig -a\" command. username: the name of user password: the password of the server","title":"Deploy on remote computer"},{"location":"installation/#finish-sgs-deploy","text":"After installation, we can see the web server, R server and local server.","title":"Finish SGS deploy"},{"location":"qucik_start/","text":"Quick start for SGS genome browser Installation of SGS # download packages wget \"https://xxxxx/xxx.tar.gz\" gunzip xxx.tar.gz ./flutter_smart_genome Deploy new SGS server SGS browser is mainly composed of two parts:SGS server and SGS client. After downloading and installing the SGS client, we also need to deploy SGS server for data visuliation. Here\uff0cwe have developed a one-click deployment function that simplifies the installation steps, allowing users to quickly deploy their own native SGS services. Note that only Linux or MacOS supports this function. First step:clicking the one-click deploy button We need to open the SGS browser client and click the one-click deploy button, then we can choose this computer or remote computer to install SGS service: Second step:Filling relevant information. We need to provide server ip address, port, username, password information for SGS server installation. Then, entering the deployment interface and filling the root password again. Deploy on this computer Deploy on this computer only need to offer root password. Deploy on remote computer IP: the server IP address, we can view it by \"ifconfig -a\" command. username: the name of user password: the password of the server Finish SGS deploy After installation, we can see the web server, R server and local server. Adding species To add a new species, you need to click the \"add species\" botton. Then, You should fill in the corresponding species name and description information, and choose a fasta file in the data dir. Adding tracks SGS support three types of tracks, namely Genome\u3001Transcript(single cell transcipt) and ATAC(single cell atac). To add tracks, you first need to choose track types, then load files. Users can add single file or multi files at the same time. Adding data from Rstudio server Installation sgsload Package In order to realize the joint exploration of data analysis and visualization, we developed a sgsload R package to directly import the single-cell analysis objects generated by the Rstudio server analysis environment. # download package # install from github devtools::install_github(\"bio-xtt/sgsload\") # install from source install.packages(\"/home/bio-xtt/Desktop/sgsload_0.1.0.tar.gz\", type=source) Getting specices id Note that before importing single-cell analysis objects directly into the SGS single-cell browser, you need to add a species fasta file and view the id of the species. # load the package library(sgsload) # get the speices id information, the default userid is \"user001\". get_species_inform(user_id) Loadding Seurat object into SGS cellbrowser Loadding a scRNA object created by Seurat into SGS cellbrowser. # load the example datasets: pbmc_small data(\"pbmc_small\") # load the example marker genes: marker.tsv marker_file <- system.file(\"extdata/scRNA\", \"markers.tsv\", package = \"sgsload\") # use the export function result_json <- ExportSC( object = pbmc_small, species_id = \"25542c58734641fe98ba9f6b51d17a20\", track_name = \"pbmc_small\", track_type = \"scRNA\", select_group = c(\"groups\", \"RNA_snn_res.0.8\", \"letter.idents\", \"cluster\"), assays = \"RNA\", matrix.slot = list(\"RNA\" = \"data\"), assay.type = list(\"RNA\" = \"gene\"), reductions = c(\"tsne\", \"umap\"), marker.files = list(\"RNA\" = marker_file)) Loadding Signac object into SGS cellbrowser Loadding a scATAC object created by Signac into SGS cellbrowser. # load the package library(sgsload) # get the speices id information get_species_inform(user_id) # load the example datasets: pbmc_small data(\"atac\") # load the example marker files created by different assay: marker_gene.tsv\u3001marker_motif.tsv\u3001marker_peak.tsv marker_genes <- system.file(\"extdata/scATAC\", \"marker_genes.tsv\", package = \"sgsload\") marker_motifs <- system.file(\"extdata/scATAC\", \"marker_motif.tsv\", package = \"sgsload\") marker_peaks <- system.file(\"extdata/scATAC\", \"marker_peaks.tsv\", package = \"sgsload\") # create a marker file list and name the list with the correlated assay name markers <- list(marker_genes, marker_motifs, marker_peaks) names(markers) <- c(\"RNA\", \"chromvar\", \"peaks\") # if you changed the fragments file path, you should update the fragments file path sorted in the signac object new.path <- system.file(\"extdata/scATAC\", \"fragments.tsv.gz\", package = \"sgsload\") fragments <- CreateFragmentObject( path = new.path, cells = colnames(atac), validate.fragments = TRUE ) Fragments(atac) <- NULL Fragments(atac) <- fragments # use the export function to loadding the scATAC object into SGS cellbrowser result_json2 <- ExportSC( object = atac, species_id = \"25542c58734641fe98ba9f6b51d17a20\", track_name = \"atac_demo\", track_type = \"scATAC\", select_group = c(\"seurat_clusters\"), assays = c(\"RNA\", \"chromvar\", \"peaks\"), matrix.slot = list(\"RNA\" = \"data\", \"chromvar\" = \"data\", \"peaks\" = \"data\"), assay.type = list(\"RNA\" = \"gene\", \"chromvar\" = \"motif\", \"peaks\" = \"peak\"), reductions = \"umap\", marker.files = markers)","title":"Quickstart guides"},{"location":"qucik_start/#quick-start-for-sgs-genome-browser","text":"","title":"Quick start for SGS genome browser"},{"location":"qucik_start/#installation-of-sgs","text":"# download packages wget \"https://xxxxx/xxx.tar.gz\" gunzip xxx.tar.gz ./flutter_smart_genome","title":"Installation of SGS"},{"location":"qucik_start/#deploy-new-sgs-server","text":"SGS browser is mainly composed of two parts:SGS server and SGS client. After downloading and installing the SGS client, we also need to deploy SGS server for data visuliation. Here\uff0cwe have developed a one-click deployment function that simplifies the installation steps, allowing users to quickly deploy their own native SGS services. Note that only Linux or MacOS supports this function.","title":"Deploy new SGS server"},{"location":"qucik_start/#first-stepclicking-the-one-click-deploy-button","text":"We need to open the SGS browser client and click the one-click deploy button, then we can choose this computer or remote computer to install SGS service:","title":"First step:clicking the one-click deploy button"},{"location":"qucik_start/#second-stepfilling-relevant-information","text":"We need to provide server ip address, port, username, password information for SGS server installation. Then, entering the deployment interface and filling the root password again.","title":"Second step:Filling relevant information."},{"location":"qucik_start/#deploy-on-this-computer","text":"Deploy on this computer only need to offer root password.","title":"Deploy on this computer"},{"location":"qucik_start/#deploy-on-remote-computer","text":"IP: the server IP address, we can view it by \"ifconfig -a\" command. username: the name of user password: the password of the server","title":"Deploy on remote computer"},{"location":"qucik_start/#finish-sgs-deploy","text":"After installation, we can see the web server, R server and local server.","title":"Finish SGS deploy"},{"location":"qucik_start/#adding-species","text":"To add a new species, you need to click the \"add species\" botton. Then, You should fill in the corresponding species name and description information, and choose a fasta file in the data dir.","title":"Adding species"},{"location":"qucik_start/#adding-tracks","text":"SGS support three types of tracks, namely Genome\u3001Transcript(single cell transcipt) and ATAC(single cell atac). To add tracks, you first need to choose track types, then load files. Users can add single file or multi files at the same time.","title":"Adding tracks"},{"location":"qucik_start/#adding-data-from-rstudio-server","text":"","title":"Adding data from Rstudio server"},{"location":"qucik_start/#installation-sgsload-package","text":"In order to realize the joint exploration of data analysis and visualization, we developed a sgsload R package to directly import the single-cell analysis objects generated by the Rstudio server analysis environment. # download package # install from github devtools::install_github(\"bio-xtt/sgsload\") # install from source install.packages(\"/home/bio-xtt/Desktop/sgsload_0.1.0.tar.gz\", type=source)","title":"Installation sgsload Package"},{"location":"qucik_start/#getting-specices-id","text":"Note that before importing single-cell analysis objects directly into the SGS single-cell browser, you need to add a species fasta file and view the id of the species. # load the package library(sgsload) # get the speices id information, the default userid is \"user001\". get_species_inform(user_id)","title":"Getting specices id"},{"location":"qucik_start/#loadding-seurat-object-into-sgs-cellbrowser","text":"Loadding a scRNA object created by Seurat into SGS cellbrowser. # load the example datasets: pbmc_small data(\"pbmc_small\") # load the example marker genes: marker.tsv marker_file <- system.file(\"extdata/scRNA\", \"markers.tsv\", package = \"sgsload\") # use the export function result_json <- ExportSC( object = pbmc_small, species_id = \"25542c58734641fe98ba9f6b51d17a20\", track_name = \"pbmc_small\", track_type = \"scRNA\", select_group = c(\"groups\", \"RNA_snn_res.0.8\", \"letter.idents\", \"cluster\"), assays = \"RNA\", matrix.slot = list(\"RNA\" = \"data\"), assay.type = list(\"RNA\" = \"gene\"), reductions = c(\"tsne\", \"umap\"), marker.files = list(\"RNA\" = marker_file))","title":"Loadding Seurat object into SGS cellbrowser"},{"location":"qucik_start/#loadding-signac-object-into-sgs-cellbrowser","text":"Loadding a scATAC object created by Signac into SGS cellbrowser. # load the package library(sgsload) # get the speices id information get_species_inform(user_id) # load the example datasets: pbmc_small data(\"atac\") # load the example marker files created by different assay: marker_gene.tsv\u3001marker_motif.tsv\u3001marker_peak.tsv marker_genes <- system.file(\"extdata/scATAC\", \"marker_genes.tsv\", package = \"sgsload\") marker_motifs <- system.file(\"extdata/scATAC\", \"marker_motif.tsv\", package = \"sgsload\") marker_peaks <- system.file(\"extdata/scATAC\", \"marker_peaks.tsv\", package = \"sgsload\") # create a marker file list and name the list with the correlated assay name markers <- list(marker_genes, marker_motifs, marker_peaks) names(markers) <- c(\"RNA\", \"chromvar\", \"peaks\") # if you changed the fragments file path, you should update the fragments file path sorted in the signac object new.path <- system.file(\"extdata/scATAC\", \"fragments.tsv.gz\", package = \"sgsload\") fragments <- CreateFragmentObject( path = new.path, cells = colnames(atac), validate.fragments = TRUE ) Fragments(atac) <- NULL Fragments(atac) <- fragments # use the export function to loadding the scATAC object into SGS cellbrowser result_json2 <- ExportSC( object = atac, species_id = \"25542c58734641fe98ba9f6b51d17a20\", track_name = \"atac_demo\", track_type = \"scATAC\", select_group = c(\"seurat_clusters\"), assays = c(\"RNA\", \"chromvar\", \"peaks\"), matrix.slot = list(\"RNA\" = \"data\", \"chromvar\" = \"data\", \"peaks\" = \"data\"), assay.type = list(\"RNA\" = \"gene\", \"chromvar\" = \"motif\", \"peaks\" = \"peak\"), reductions = \"umap\", marker.files = markers)","title":"Loadding Signac object into SGS cellbrowser"},{"location":"user_interface/","text":"User interface Main Window The following figure shows the main interface of SGS browser. Settings The Settings menu controls global settings of the browser. Color Theme Color Theme used to setting the software interface theme color. Theme Mode We offered two theme mode:Light mode, Dark mode. Data Cache and Setting Cache Data cache and setting cache used to clear data and set cache respectively. Server and data management Users can deploy SGS services through the shortcut option New SGS server or Home --> New SGS server . The detailed steps of deployment, please refer to: Installation and deploy . Server list The server list menu bar mainly displays the currently added SGS service url. By clicking the edit button option (2), users can change the url address and name; by clicking URL setting (2), the URL can be deleted or connected to the relevant data management center; finally, users can also able to re-add new SGS service URLs. Database connection Clicking the data management button, we will enter the database longin interface. By clicking \"Log to new server\", we can switch the service IP and enter the data list interface to delete or add track data. Adding species To add a new species, you need to click the \"add species\" botton. Then, You should fill in the corresponding species name and description information, and choose a fasta file in the data dir. Adding tracks SGS support three types of tracks, namely Genome\u3001Transcript(single cell transcipt) and ATAC(single cell atac). To add tracks, you first need to choose track types, then load files. Users can add single file or multi files at the same time. The following file formats are supported: Formats GFF VCF BAM BIGWIG BED melthyC biginteract BedGraph Longrange Seurat object Signac object Track types Genome Genome Genome Genome Genome Genome Genome Genome Genome Transcript ATAC Track management Track list Track list mainly display added tracks. Users can search track by name(1)\u3001select track\u3001 sort tracks by track data formats(2) or change track orders by dragging track order icon(3). Track theme Users can import or ceate new track feature style(1). Track theme setting allows user to customize track feature display shape, color, height and font size for different tracks(2-3). Track menu Users can access track-specific function by using the track menu, which is accessible from the track selecter itself. Some functions are track-specific, but more function are basic options like Track Height , Track Color , Rename Track are available from the track menu on the track selector. Track information Users can view the detailed description of the feature on the right by clicking the track feature. Browser your data The top navigation menu controls most of the browser functionality. From left to right are compare mode, species and assembly information, genomic region locator, zoom in/out tools, min/max scale, region selection, undo/redo and share session: Species list User can view omics data added in different species by clicking on species selection button. Track view operations Move/Zoom/minsale/maxscale tools User can change the current region by draging the mouse right or left or by click the left or right move button. Zoom mode allows the user to zoom in or zoom out on a specific region within the cuurent view using the mouse. Besides, Min/Max scale mode allows user to change the view to min or max zoom scale. Region higlight tools Region higlight function allows user to higlight the region they select. Redo/Undo tools For instance if you accidently moved to another region and forgot what you were looking at before you can click the Undo button to go back. Clicking the Redo button allows you to go forward to the step before you clicked Undo . Search tools Search by region Users can find intervals of interest by entering genomic coordinates in format of ctgA:23364-25651 . Search by name Enter the gene name, you can quickly jump to the position of the gene. Sharing session SGS browser allows users to share session with other users. Just clicking on the share session botton in the sidebar or the top navigation menu, you can copy and send the URL to other user. The compare mode SGS provides the compare function to compare the differences in the distribution of genomic data on different chromosomes of the same species. Users can switch to a different chromosome for comparison via the position manipulation box at the top or botton. By hovering over a chromosome, users can zoom in/zoom out the current visualization area through the scroll wheel, and switch the chromosome area by dragging left and right. Single cell browser Single cell data list Clicking on the single cell browser, we can view the single cell datasets that have been added so far, and by selecting one of the datasets, we can view them in the single cell browser. Single cell browser interface The single cell browser main display the cell annotated scatterplot derived from UMAP, tSNE, or some other dimensionality reduction method. The image below highlights some of the main features of this core visualization: The toolbox is on the top of the single cellbrowser window and contains tools that perform the functions list in the table below: Icon Function Description Used to save the currently single cell view as a jpg image Used to reset the single-cell view to its initial state When uploading multiple types of matrix files, it is used to switch between different matrixes Used to change cell embedding, tSNE/UMAP Used to change the cell cluster color according to different cell annotation methods Used to change cell annotation label Used to display the currently viewed cell annotation legend Used to display cell reduction coordinate system Used to adjust the size of the points in the cluster graph Used to enter Rstudio server It is used to change the layout of the single-cell window, mainly providing three layout modes: left, right and bottom View marker table Users can view different matrix such as: peak matrix, motif matrix or gene exp matrix just by clicking on the boutton. Besides, when multi reduction data have upload, users can switch to different reduction plots with button. Users will gain the cell anotation of the cell cluster when they use the option. Fourthermore, with the opening of option, users can also change the color of the cell cluster or hide the cell clster by clikcing the color box or cluster name respectively. Marker table We provide graphs and charts to display single-cell markers. (1) By clicking on the marker gene, the single-cell browser displays the expression of the marker in different cell types, and if the genome-related data such as gff is uploaded, the genome browser will quickly jump to the gene position. (2) By dragging left and right to view the complete marker table information, and view more markers by pulling up the table or clicking the page turning option; (3) By clicking the graphics icon, you can view the marker gene expression scatterplot. scMultiCompare It is critical to view multiple markers simultaneously in single-cell researches. By selecting multiple markers in the single-cell marker table, click scMultiCompare to enter the single-cell multi-marker compare module. by cliking on change view mode , switch the horizontal or vertical graphics display mode. by cliking on change view type , you can switch between multiple marker display modes, mainly: compare and heatmap. show label : used to display the plot type label. by cliking on choose plot type , users can choose the drawing type, mainly including cell. clustering plot, box plot, violin plot, Motif Logo maps, peak coverage plot. Rstudio Server Users can load the single cell analysis object directly from R into SGS single-cell browser by clicking the button. For detailed manual, please refer to this link\uff1a Cudie of R server","title":"User Intserface"},{"location":"user_interface/#user-interface","text":"","title":"User interface"},{"location":"user_interface/#main-window","text":"The following figure shows the main interface of SGS browser.","title":"Main Window"},{"location":"user_interface/#settings","text":"The Settings menu controls global settings of the browser.","title":"Settings"},{"location":"user_interface/#color-theme","text":"Color Theme used to setting the software interface theme color.","title":"Color Theme"},{"location":"user_interface/#theme-mode","text":"We offered two theme mode:Light mode, Dark mode.","title":"Theme Mode"},{"location":"user_interface/#data-cache-and-setting-cache","text":"Data cache and setting cache used to clear data and set cache respectively.","title":"Data Cache and Setting Cache"},{"location":"user_interface/#server-and-data-management","text":"Users can deploy SGS services through the shortcut option New SGS server or Home --> New SGS server . The detailed steps of deployment, please refer to: Installation and deploy .","title":"Server and data management"},{"location":"user_interface/#server-list","text":"The server list menu bar mainly displays the currently added SGS service url. By clicking the edit button option (2), users can change the url address and name; by clicking URL setting (2), the URL can be deleted or connected to the relevant data management center; finally, users can also able to re-add new SGS service URLs.","title":"Server list"},{"location":"user_interface/#database-connection","text":"Clicking the data management button, we will enter the database longin interface. By clicking \"Log to new server\", we can switch the service IP and enter the data list interface to delete or add track data.","title":"Database connection"},{"location":"user_interface/#adding-species","text":"To add a new species, you need to click the \"add species\" botton. Then, You should fill in the corresponding species name and description information, and choose a fasta file in the data dir.","title":"Adding species"},{"location":"user_interface/#adding-tracks","text":"SGS support three types of tracks, namely Genome\u3001Transcript(single cell transcipt) and ATAC(single cell atac). To add tracks, you first need to choose track types, then load files. Users can add single file or multi files at the same time. The following file formats are supported: Formats GFF VCF BAM BIGWIG BED melthyC biginteract BedGraph Longrange Seurat object Signac object Track types Genome Genome Genome Genome Genome Genome Genome Genome Genome Transcript ATAC","title":"Adding tracks"},{"location":"user_interface/#track-management","text":"","title":"Track management"},{"location":"user_interface/#track-list","text":"Track list mainly display added tracks. Users can search track by name(1)\u3001select track\u3001 sort tracks by track data formats(2) or change track orders by dragging track order icon(3).","title":"Track list"},{"location":"user_interface/#track-theme","text":"Users can import or ceate new track feature style(1). Track theme setting allows user to customize track feature display shape, color, height and font size for different tracks(2-3).","title":"Track theme"},{"location":"user_interface/#track-menu","text":"Users can access track-specific function by using the track menu, which is accessible from the track selecter itself. Some functions are track-specific, but more function are basic options like Track Height , Track Color , Rename Track are available from the track menu on the track selector.","title":"Track menu"},{"location":"user_interface/#track-information","text":"Users can view the detailed description of the feature on the right by clicking the track feature.","title":"Track information"},{"location":"user_interface/#browser-your-data","text":"The top navigation menu controls most of the browser functionality. From left to right are compare mode, species and assembly information, genomic region locator, zoom in/out tools, min/max scale, region selection, undo/redo and share session:","title":"Browser your data"},{"location":"user_interface/#species-list","text":"User can view omics data added in different species by clicking on species selection button.","title":"Species list"},{"location":"user_interface/#track-view-operations","text":"","title":"Track view operations"},{"location":"user_interface/#movezoomminsalemaxscale-tools","text":"User can change the current region by draging the mouse right or left or by click the left or right move button. Zoom mode allows the user to zoom in or zoom out on a specific region within the cuurent view using the mouse. Besides, Min/Max scale mode allows user to change the view to min or max zoom scale.","title":"Move/Zoom/minsale/maxscale tools"},{"location":"user_interface/#region-higlight-tools","text":"Region higlight function allows user to higlight the region they select.","title":"Region higlight tools"},{"location":"user_interface/#redoundo-tools","text":"For instance if you accidently moved to another region and forgot what you were looking at before you can click the Undo button to go back. Clicking the Redo button allows you to go forward to the step before you clicked Undo .","title":"Redo/Undo tools"},{"location":"user_interface/#search-tools","text":"","title":"Search tools"},{"location":"user_interface/#search-by-region","text":"Users can find intervals of interest by entering genomic coordinates in format of ctgA:23364-25651 .","title":"Search by region"},{"location":"user_interface/#search-by-name","text":"Enter the gene name, you can quickly jump to the position of the gene.","title":"Search by name"},{"location":"user_interface/#sharing-session","text":"SGS browser allows users to share session with other users. Just clicking on the share session botton in the sidebar or the top navigation menu, you can copy and send the URL to other user.","title":"Sharing session"},{"location":"user_interface/#the-compare-mode","text":"SGS provides the compare function to compare the differences in the distribution of genomic data on different chromosomes of the same species. Users can switch to a different chromosome for comparison via the position manipulation box at the top or botton. By hovering over a chromosome, users can zoom in/zoom out the current visualization area through the scroll wheel, and switch the chromosome area by dragging left and right.","title":"The compare mode"},{"location":"user_interface/#single-cell-browser","text":"","title":"Single cell browser"},{"location":"user_interface/#single-cell-data-list","text":"Clicking on the single cell browser, we can view the single cell datasets that have been added so far, and by selecting one of the datasets, we can view them in the single cell browser.","title":"Single cell data list"},{"location":"user_interface/#single-cell-browser-interface","text":"The single cell browser main display the cell annotated scatterplot derived from UMAP, tSNE, or some other dimensionality reduction method. The image below highlights some of the main features of this core visualization: The toolbox is on the top of the single cellbrowser window and contains tools that perform the functions list in the table below: Icon Function Description Used to save the currently single cell view as a jpg image Used to reset the single-cell view to its initial state When uploading multiple types of matrix files, it is used to switch between different matrixes Used to change cell embedding, tSNE/UMAP Used to change the cell cluster color according to different cell annotation methods Used to change cell annotation label Used to display the currently viewed cell annotation legend Used to display cell reduction coordinate system Used to adjust the size of the points in the cluster graph Used to enter Rstudio server It is used to change the layout of the single-cell window, mainly providing three layout modes: left, right and bottom View marker table Users can view different matrix such as: peak matrix, motif matrix or gene exp matrix just by clicking on the boutton. Besides, when multi reduction data have upload, users can switch to different reduction plots with button. Users will gain the cell anotation of the cell cluster when they use the option. Fourthermore, with the opening of option, users can also change the color of the cell cluster or hide the cell clster by clikcing the color box or cluster name respectively.","title":"Single cell browser interface"},{"location":"user_interface/#marker-table","text":"We provide graphs and charts to display single-cell markers. (1) By clicking on the marker gene, the single-cell browser displays the expression of the marker in different cell types, and if the genome-related data such as gff is uploaded, the genome browser will quickly jump to the gene position. (2) By dragging left and right to view the complete marker table information, and view more markers by pulling up the table or clicking the page turning option; (3) By clicking the graphics icon, you can view the marker gene expression scatterplot.","title":"Marker table"},{"location":"user_interface/#scmulticompare","text":"It is critical to view multiple markers simultaneously in single-cell researches. By selecting multiple markers in the single-cell marker table, click scMultiCompare to enter the single-cell multi-marker compare module. by cliking on change view mode , switch the horizontal or vertical graphics display mode. by cliking on change view type , you can switch between multiple marker display modes, mainly: compare and heatmap. show label : used to display the plot type label. by cliking on choose plot type , users can choose the drawing type, mainly including cell. clustering plot, box plot, violin plot, Motif Logo maps, peak coverage plot.","title":"scMultiCompare"},{"location":"user_interface/#rstudio-server","text":"Users can load the single cell analysis object directly from R into SGS single-cell browser by clicking the button. For detailed manual, please refer to this link\uff1a Cudie of R server","title":"Rstudio Server"}]}